import { IControllers, Controller } from '@po-to/potato';

let map: { [key: string]: string } = require('./controllers.json');
let controllers: { [key: string]: Object } = {};

for (let key in map) {
    controllers[key] = require('./'+map[key]);
}

let ins: IControllers = {
    getController: function (path: string): Controller | null {
        return controllers[path] as Controller;
    },
    hasController: function (path: string): boolean {
        return (controllers as Object).hasOwnProperty(path);
    }
}

export = ins;