import * as potato from '@po-to/potato';
import * as api from 'nodejs/global/api/api';


class Controller extends potato.Controller {
    Item(request: potato.Request, resolve: (data: Object | potato.ViewRendererData) => void, reject: (error: potato.PError) => void) {
        let initData = api.GetInitData(request.root,function(initData){
            let data = request.args || { "mainJS": "main" };
            data['initData'] = JSON.stringify(initData);
            let template = new potato.View('m/common/InsertFootTpl');
            let result = new potato.ViewRendererData(template, data);
            resolve(result);
        },reject);
    }
}

let ins: Object = new Controller();
export = ins;